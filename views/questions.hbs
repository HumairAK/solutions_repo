<main id = 'solutions-main'>
    <div class = 'search container' id = 'solutions-div'>

        <!-- EXAM DETAILS -->
        <div  class="row">
            {{# if messages.success }}
                <section class="alert alert-success custom-Alert">
                    <!-- Change those to banners later -->
                    <h4>{{ messages.success }}</h4>
                </section>
            {{ else }}
                {{# if messages.error }}
                    <section class="alert alert-danger custom-Alert">
                        <h4>{{ messages.error }}</h4>
                    </section>
                {{/if}}
            {{/if}}
        </div>
        <div class="row">
            <section class='exam-info col-sm-6 col-sm-offset-3'>
                <h3>{{examInfo.courseCode}}</h3>
                <p>{{examInfo.term}} {{examInfo.year}} {{examInfo.type}}</p>
                <p><em>Instructor(s): </em>{{examInfo.instructors}}</p>
                <p><em>Upload date:</em> {{examInfo.uploadDate}}</p>
                <p><em>Uploaded by:</em> {{examInfo.uploader}}</p>
                <p><em>Page count:</em> {{examInfo.pageCount}}</p>
                <p><em>Question count:</em> {{examInfo.questionCount}}</p>
                <form action="/user/follow_exam/{{examInfo.id}}" method = 'post'>
                    <input type="hidden" name="_csrf" value="{{ csrfToken }}">
                    <button class="btn btn-primary follow-exam-btn" id="add-solution" type="submit">
                        <h3>Follow Exam</h3>
                    </button>
                </form>
            </section>
        </div>

        <!-- QUESTION LISTINGS -->
        {{#each query}}
                <a href="/solutions/{{../examInfo.id}}/{{this.q_id}}">
                    <section class = 'solutions-card row'>
                        <div class='pull-left col-sm-8 col-md-8'>
                            <h3 class = 'questions-number'>Question {{this.q_id}}</h3>
                            <p><span class='questions-sol-num'>{{this.count}} solutions, </span> <span class = 'questions-comment'>{{this.comments}} comments</span></p>
                        </div>
                        <div class='pull-right right-arrow'>
                            <img class='rounded questions-arrow' src="/assets/images/right-arrow.svg">
                        </div>
                    </section>
                </a>

            {{/each}}



    </div>
</main>
